define("block_homework/filter",["exports","jquery","core/ajax"],(function(_exports,_jquery,_ajax){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}
/**
   * homework/amd/src/filter.js
   *
   * @package
   * @copyright 2024, cs-24-sw-5-13 <cs-24-sw-5-13@student.aau.dk>
   * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   *
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_ajax=_interopRequireDefault(_ajax);_exports.init=async()=>{let courses;_ajax.default.call([{methodname:"block_homework_get_courses",args:{},done:async function(response){courses=JSON.parse(response.courses);for(const course in courses)(0,_jquery.default)("#filter").append('<option value="'+courses[course].fullname+'">'+courses[course].fullname+"</option>")},fail:error=>{throw new Error(`Failed to find courses: ${error}`)}}]),(0,_jquery.default)("#filter").on("change",(()=>{_ajax.default.call([{methodname:"block_homework_filter_homework",args:{filter:(0,_jquery.default)("#filter").val()},done:async function(response){let homeworks=JSON.parse(response.homework);document.getElementById("outer-box").innerHTML="",homeworks.forEach((homework=>{let box=document.createElement("div");box.classList.add("infobox");let h22=document.createElement("h2");h22.innerHTML=`${homework.course}`,box.appendChild(h22);let h2=document.createElement("h2");h2.innerHTML=`${homework.name}`,box.appendChild(h2);let h3=document.createElement("h3");h3.innerHTML=homework.duedate,box.appendChild(h3);let p=document.createElement("p");p.innerHTML=`${homework.intro}`,box.appendChild(p);let button=document.createElement("button");button.classList.add("timebutton"),button.setAttribute("data-homework-id",homework.id),button.setAttribute("id",homework.id),button.innerHTML="Time",box.appendChild(button),document.getElementById("outer-box").appendChild(box)}))},fail:error=>{throw console.log(error),new Error(`Failed to find filtered homework: ${error}`)}}])}))}}));

//# sourceMappingURL=filter.min.js.map